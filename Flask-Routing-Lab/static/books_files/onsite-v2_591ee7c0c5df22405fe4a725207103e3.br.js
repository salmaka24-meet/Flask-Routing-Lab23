(self.webpackChunksmart_tag=self.webpackChunksmart_tag||[]).push([[302],{4624:(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__(4836),_typeof=__webpack_require__(8698);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(8416)),_time=__webpack_require__(7979),_scheduling=__webpack_require__(1915),_userTracking=_interopRequireDefault(__webpack_require__(3236)),_helpers=__webpack_require__(2481),_analytics=_interopRequireDefault(__webpack_require__(8239)),_eventJsEval=__webpack_require__(1964),Url=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(1847)),_couponCodes=_interopRequireDefault(__webpack_require__(273)),_eventStream=_interopRequireDefault(__webpack_require__(7686)),_records=_interopRequireDefault(__webpack_require__(4160)),_phoneNumber=_interopRequireDefault(__webpack_require__(3251)),_campaignHelpers=_interopRequireDefault(__webpack_require__(2261)),_accessibility=_interopRequireDefault(__webpack_require__(6105)),_toSha=__webpack_require__(5385),_logger=_interopRequireDefault(__webpack_require__(5754)),_ajax=_interopRequireDefault(__webpack_require__(9974)),_language=__webpack_require__(5295);function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var EmailCapture={setSubmittedCookies:function(result,ca_id){bouncex.campaigns[ca_id].submitted=!0,bouncex.updateBounceCookie((function(cookie){cookie.campaigns[ca_id].ls=(0,_time.getTimeWithServerDiff)(),bouncex.campaigns[ca_id].is_ec&&result.email&&(cookie.es=!0)}))},post_submit_redirect:function(ca_id){var is_api=bouncex.campaigns[ca_id].is_api,redirect=bouncex.campaigns[ca_id].submission_redirect,delay=bouncex.campaigns[ca_id].submission_redirect_delay;if(is_api&&delay<.3)delay=.3;else if(!is_api)return!1;redirect&&(0,_scheduling.setTimeoutWrapper)((function(){window.top.location.href=redirect}),delay?1e3*delay:0)},addSignInWithData:function(eventData,ca_id){var _bouncex,_bouncex$campaigns,_bouncex$campaigns$ca;null!==(_bouncex=bouncex)&&void 0!==_bouncex&&null!==(_bouncex$campaigns=_bouncex.campaigns)&&void 0!==_bouncex$campaigns&&null!==(_bouncex$campaigns$ca=_bouncex$campaigns[ca_id])&&void 0!==_bouncex$campaigns$ca&&_bouncex$campaigns$ca.signInWith&&(eventData.sign_in_with=bouncex.campaigns[ca_id].signInWith)},processSubmittedCampaignForm:function(result,ca_id){if(bouncex.carbTrap=bouncex.carbTrap||""!==result["carb-trap"],!bouncex.carbTrap){if(EmailCapture.setSubmittedCookies(result,ca_id),(result.email||result.phone_number)&&(_userTracking.default.setRedactEmail(result,ca_id),result.email)){var triggerOffsiteJson=!!bouncex.campaigns[ca_id].trigger_offsite_json&&JSON.parse(bouncex.campaigns[ca_id].trigger_offsite_json),requestEmailEventData={email:result.email,campaignId:triggerOffsiteJson.campaignId,testmode:(0,_helpers.visitorTestMode)("bxdev")?1:0};EmailCapture.addSignInWithData(requestEmailEventData,ca_id),triggerOffsiteJson&&triggerOffsiteJson.campaignId&&bouncex.push(["requestemail",requestEmailEventData])}_analytics.default.reportGa(ca_id,"submission"),(0,_eventJsEval.event_js_eval)(ca_id,"submission",result),"function"==typeof bouncex.onformsubmit&&bouncex.onformsubmit(result.email),EmailCapture.post_submit_redirect(ca_id)}},processCampaignSubmitClose:function(ca_id,noPostSubmit){bouncex.campaigns[ca_id].acas&&(bouncex.events[ca_id].timeout_auto_submission_close=(0,_scheduling.setTimeoutWrapper)((function(){bouncex.close_ad(ca_id)}),1e3*bouncex.campaigns[ca_id].acas)),noPostSubmit&&bouncex.close_ad(ca_id,!1,!0)},processLastStep:function(ca_id,noPostSubmit){if(!bouncex.campaigns[ca_id].submittedYet){bouncex.campaigns[ca_id].submittedYet=!0;var qs=bouncex.campaigns[ca_id].obj1.find(".bx-input").serialize(),result=Url.queryStringToObject(qs);EmailCapture.processSubmittedCampaignForm(result,ca_id),EmailCapture.processCampaignSubmitClose(ca_id,noPostSubmit)}},loadCouponsAndValidateForm:function(ca_id){_couponCodes.default.insertCodesInFormAndSubmit(ca_id,function(ca_id){var campaign=bouncex.campaigns[ca_id];EmailCapture.validateForm(campaign.jform,ca_id)}.bind(this,ca_id))},customFormSubmit:function(ca_id,params){var _bouncex$campaigns2,_bouncex$campaigns2$c,jform=null===(_bouncex$campaigns2=bouncex.campaigns)||void 0===_bouncex$campaigns2||null===(_bouncex$campaigns2$c=_bouncex$campaigns2[ca_id])||void 0===_bouncex$campaigns2$c?void 0:_bouncex$campaigns2$c.jform,customData=null==params?void 0:params.custom_data,hasOptIn=!(null==customData||!customData["sms-optin"]),phoneNumber="string"==typeof(null==customData?void 0:customData.phone_number)?customData.phone_number.trim():null==customData?void 0:customData.phone_number,hasValidPhoneNumber=!!phoneNumber&&_phoneNumber.default.isValid(phoneNumber);if(hasOptIn&&hasValidPhoneNumber&&bouncex.updateBounceCookie((function(cookie){cookie.ps=1})),!hasValidPhoneNumber&&hasOptIn||!jform){var invalidPhoneNumberWithOptIn=!hasValidPhoneNumber&&"Invalid phone number",jformMissing=!jform&&"customFormSubmit jform missing for campaign ".concat(ca_id),msg=invalidPhoneNumberWithOptIn||jformMissing;_logger.default.error({msg})}else phoneNumber&&!hasOptIn&&_logger.default.warn("Phone number submitted without sms-optin set to 1. Campaign: ".concat(ca_id)),EmailCapture.validateForm(jform,ca_id,params)},appendGlobalInputVariables:function(initial){return["bx_multi_newsletter","email"].map((function(field){return document.querySelector('[name="'.concat(field,'"].bx-input'))})).filter((function(element){return null!==element})).reduce((function(previous,element){var name=element.getAttribute("name");if(null===name)return previous;var val=element.getAttribute("value")?element.getAttribute("value"):element.value;return""===val||null===val?previous:function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}((0,_defineProperty2.default)({},name,encodeURIComponent(val)),previous)}),initial)},validateForm:function(jform,ca_id){var subParams=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},cloneForm=bouncex.campaigns[ca_id].obj2.filter(".bx-pusher").find(".bx-active-step form");if(bouncex.formSubmitting)return!1;bouncex.formSubmitting=!0,_eventStream.default.nextSequenceId();var isLastStep=bouncex.campaigns[ca_id].next_step==bouncex.campaigns[ca_id].numSteps&&!bouncex.campaigns[ca_id].noPostSubmit||bouncex.campaigns[ca_id].forceLastStep,noPostSubmit=bouncex.campaigns[ca_id].current_step==bouncex.campaigns[ca_id].numSteps&&(1===bouncex.campaigns[ca_id].numSteps||bouncex.campaigns[ca_id].noPostSubmit),last_step=isLastStep||noPostSubmit?1:0,serial=jform.serialize();serial+=subParams.custom_data?Url.generateQuerystring(subParams.custom_data,"&"):"";var submitData=Url.queryStringToObject(serial);bouncex.campaigns[ca_id].current_step>1&&(serial+=Url.generateQuerystring(EmailCapture.appendGlobalInputVariables({}),"&")),serial+="&step="+bouncex.campaigns[ca_id].current_step+"&visit_id="+bouncex.cookie.vid+"&m="+bouncex.cookie.m+"&d="+bouncex.cookie.d,serial+="&cookie="+encodeURIComponent(bouncex.stringify(bouncex.cookie)),serial+="&pos=overlay&step_name=before",serial+="&last_step="+last_step,serial+="&device_id="+bouncex.cookie.did,serial+="&cts="+(0,_helpers.getTimeMs)(),serial+="&pvid="+bouncex.state.pvid,serial+="&url="+bouncex.calling_url,serial+="&request_token="+bouncex.state.request_token,bouncex.cookie.t&&(serial+="&testmode="+bouncex.cookie.t),bouncex.dg&&bouncex.dg.hardID&&(serial+="&hard_id="+bouncex.dg.hardID),bouncex.dg&&bouncex.dg.softID&&(serial+="&soft_id="+bouncex.dg.softID);var languageCode=(0,_language.getDeviceOrDocumentLanguage)();for(var key in languageCode&&(serial+="&language="+languageCode),bouncex.vars)serial+="&var["+key+"]="+encodeURIComponent(bouncex.vars[key]);var action=jform.attr("action");jform.find(".bx-row-validation").removeClass("bx-row-validation"),cloneForm.find(".bx-row-validation").removeClass("bx-row-validation"),jform.find('[aria-invalid="true"]').removeAttr("aria-invalid");var options={url:action,data:serial,dataType:"jsonp",contentType:"multipart/form-data",crossDomain:!0,global:!1,success:function(response){var edwTimeout=bouncex.events[ca_id].edwTimeout,hasFieldErrors=EmailCapture.showGenieFormErrors(ca_id,jform,response,cloneForm),isAlreadySubscribed=!(null==response||!response.subscribed),isSubscribedSuccessfully=!hasFieldErrors,hasSmsOptin=jform.find(".bx-sms-optin").val(),hasEmail=!!jform.find(".bx-input[type=email]").val(),canUpdateCookies=!jform.find("input[name=carb-trap]").val();bouncex.formSubmitting=!1,edwTimeout&&clearTimeout(edwTimeout),canUpdateCookies&&EmailCapture._updateCookiesOnSubmitForm({isSubscribedSuccessfully,hasEmail,hasSmsOptin,isAlreadySubscribed}),isSubscribedSuccessfully&&(bouncex.nextStep(ca_id),last_step&&EmailCapture.processLastStep(ca_id,noPostSubmit)),jQuery.event.trigger({campaign_id:ca_id,isEmptyResponse:!response,response,submitData,stepNumber:bouncex.campaigns[ca_id].current_step,type:"bxValidateFormComplete"}),"function"==typeof subParams.success&&subParams.success(response)},error:function(e){bouncex.formSubmitting=!1,bouncex.events[ca_id].edwTimeout&&clearTimeout(bouncex.events[ca_id].edwTimeout),bouncex.nextStep(ca_id),"function"==typeof subParams.error&&subParams.error({msg:"request error",campaignId:ca_id})}};bouncex.campaigns[ca_id].edw||(bouncex.events[ca_id].edwTimeout=(0,_scheduling.setTimeoutWrapper)((function(){bouncex.nextStep(ca_id),last_step&&EmailCapture.processLastStep(ca_id,noPostSubmit)}),2500)),EmailCapture.fireUserSubmitEvent(submitData,ca_id),_records.default.addRecord({group:"email_capture",campaignId:ca_id,data:options.data}),_ajax.default.request(options)},fireUserSubmitEvent:function(submitData,campaignId){if(!bouncex.carbTrap&&""===submitData["carb-trap"]&&(_userTracking.default.setRedactEmail(submitData,campaignId),submitData.email||submitData.phone_number)){var userEvent={campaignid:campaignId,source:"campaign_submit"};if(submitData.email&&(userEvent.email=submitData.email),EmailCapture.addSignInWithData(userEvent,campaignId),submitData.phone_number&&_phoneNumber.default.isValid(submitData.phone_number)){var sanitizedNumber=_phoneNumber.default.sanitize(submitData.phone_number);sanitizedNumber?(userEvent.phone=sanitizedNumber,userEvent.phone_sha256=(0,_toSha.toSha256)(sanitizedNumber)):userEvent.phone_unmatched=submitData.phone_number}bouncex.push(["user",userEvent])}},submitCampaignStep:function(ca_id,ca_id2){return ca_id=ca_id2||ca_id,bouncex.campaigns[ca_id].jform.find(".bx-input").length>0?EmailCapture.loadCouponsAndValidateForm(ca_id):EmailCapture.nextStep(ca_id),!1},setJumpStep:function(ca_id,jumpStep,forceLastStep){bouncex.campaigns[ca_id].jumpStep=jumpStep,bouncex.campaigns[ca_id].forceLastStep=forceLastStep},nextStep:function(ca_id){bouncex.campaigns[ca_id].jumpStep&&(bouncex.campaigns[ca_id].next_step=bouncex.campaigns[ca_id].jumpStep,bouncex.campaigns[ca_id].jumpStep=!1),bouncex.campaigns[ca_id].next_step<=bouncex.campaigns[ca_id].numSteps&&(bouncex.campaigns[ca_id].obj2.find(".bx-step-"+ca_id+"-"+bouncex.campaigns[ca_id].current_step).removeClass("bx-active-step"),bouncex.campaigns[ca_id].obj2.find(".bx-step-"+ca_id+"-"+bouncex.campaigns[ca_id].next_step).addClass("bx-active-step"),_campaignHelpers.default.cacheCreativeForm(ca_id,bouncex.campaigns[ca_id].next_step),bouncex.campaigns[ca_id].obj2.trigger("nextStep",[{currentStep:bouncex.campaigns[ca_id].current_step}]),bouncex.campaigns[ca_id].obj2.removeClass("bx-active-step-"+bouncex.campaigns[ca_id].current_step).addClass("bx-active-step-"+bouncex.campaigns[ca_id].next_step),bouncex.campaigns[ca_id].current_step=bouncex.campaigns[ca_id].next_step,bouncex.campaigns[ca_id].next_step++,_couponCodes.default.insertCodesInCurrentStep(ca_id),_campaignHelpers.default.show_close(ca_id),_campaignHelpers.default.alignCampaign(ca_id),_accessibility.default.setFocusableElements(ca_id),_accessibility.default.focusOnFirstFocusableElement(ca_id,!0))},showGenieFormErrors:function(ca_id,jform,response,cloneForm){var errors=(response=response||{}).errors||!1;if(!errors)return!1;var errRows=jQuery();for(var inputName in errors){var errField=jform.find(".bx-error-"+ca_id+"-"+inputName),errorText=errors[inputName];if(errField.length){var errRow=errField.text(errorText).closest(".bx-row");if(errRow.addClass("bx-row-validation"),cloneForm&&cloneForm.length)cloneForm.find(".bx-error-"+ca_id+"-"+inputName).text(errorText).closest(".bx-row").addClass("bx-row-validation");errRow.find(":input").attr("aria-invalid",!0).attr("aria-describedby","bx-error-"+ca_id+"-"+inputName),errRows=errRows.add(errRow)}}return!!errRows.length&&(errRows.eq(0).find(":input").focus(),!0)},_updateCookiesOnSubmitForm:function(_ref){var isSubscribedSuccessfully=_ref.isSubscribedSuccessfully,hasEmail=_ref.hasEmail,hasSmsOptin=_ref.hasSmsOptin,isAlreadySubscribed=_ref.isAlreadySubscribed,cookie={};(hasSmsOptin&&isSubscribedSuccessfully||hasSmsOptin&&isAlreadySubscribed)&&(cookie.ps=1),(isSubscribedSuccessfully||isAlreadySubscribed)&&hasEmail&&(cookie.es=!0),Object.keys(cookie).length>0&&bouncex.updateBounceCookie(cookie)}},_default=EmailCapture;exports.default=_default},3537:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__(4836),_emailCapture=_interopRequireDefault(__webpack_require__(4624)),_onsiteRetargeting=_interopRequireDefault(__webpack_require__(1423));window.bouncex.products=window.bouncex.products||{},window.bouncex.products.onsite={init_public_functions:function(){bouncex.nextStep=_emailCapture.default.nextStep,bouncex.submitCampaignStep=_emailCapture.default.submitCampaignStep,bouncex.setJumpStep=_emailCapture.default.setJumpStep,bouncex.customFormSubmit=_emailCapture.default.customFormSubmit,bouncex.emailCapture={showGenieFormErrors:_emailCapture.default.showGenieFormErrors,setSubmittedCookies:_emailCapture.default.setSubmittedCookies},bouncex.osr=_onsiteRetargeting.default}}},1423:(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__(4836);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _campaignHelpers=_interopRequireDefault(__webpack_require__(2261)),_logger=_interopRequireDefault(__webpack_require__(5754)),_default={init:function(ca_id,itemId){try{bouncex.osr.log(ca_id,itemId?"init OSR on product page, excluding item #"+itemId:"init OSR",!1),this._getOsrParamsJson(ca_id,bouncex.campaigns[ca_id].osr_params_json),this._getItems(ca_id,itemId)}catch(err){bouncex.err(err,{source:"osr js"})}},_getItems:function(ca_id,itemId){bouncex.osr.log(ca_id,"getting items",!1);var endpoint=bouncex.campaigns[ca_id].osr.config.endpoint;itemId&&(endpoint=endpoint+","+itemId);var options={url:endpoint,method:"GET",timeout:4e3,dataType:"json",complete:function(response,status){if(bouncex.osr._handleResponse(ca_id,response)&&(bouncex.osr.log(ca_id,"tracked items successfully loaded",!1),bouncex.campaigns[ca_id].jform=jQuery("#bx-form-"+ca_id+"-step-1"),bouncex.osr.activateCampaign(ca_id)),!bouncex.campaigns[ca_id].osrItems)return bouncex.osr.fail(ca_id,"no items returned, OSR campaign "+ca_id+" is ineligible")}};bouncex.utils.doAjaxRequest(options)},_getOsrParamsJson:function(ca_id,osrParams){var osrParamsQuery,config=bouncex.parseJSON(osrParams);bouncex.campaigns[ca_id].osr={},bouncex.campaigns[ca_id].osr.config={},osrParamsQuery=config.sortBy+","+config.minProducts+","+config.maxProducts,config.endpoint="https://"+bouncex.website.osru+"?website_id="+bouncex.website.id+"&device_id="+bouncex.cookie.did+"&visit_id="+bouncex.cookie.vid+"&osr_params="+osrParamsQuery,bouncex.campaigns[ca_id].osr.config=config},_handleResponse:function(ca_id,response){if(response&&200===response.status)try{var responseText=response.responseText;if(responseText.trim()&&0!==responseText.length)return bouncex.campaigns[ca_id].osrItems=bouncex.parseJSON(responseText).items,bouncex.osr._populateCreative(ca_id,bouncex.campaigns[ca_id].osrItems);bouncex.osr.fail(ca_id,"empty response")}catch(err){bouncex.osr.fail(ca_id,err)}else if(response&&202===response.status)try{response.responseText.indexOf("Not enough 'view item' events")>-1&&bouncex.osr.fail(ca_id,"OSR campaign's minimum # of products is greater than the user's history of 'view item' events.")}catch(err){bouncex.osr.fail(ca_id,err)}return!1},_populateCreative:function(ca_id,itemsJson){if(bouncex.campaigns[ca_id].control)return!0;var creative=document.getElementById("bx-campaign-"+ca_id),creativeClone=creative.cloneNode(!0);return creative.innerHTML=this._populateClonedCreativeTemplate(bouncex.campaigns[ca_id].numSteps,creativeClone,itemsJson,bouncex.campaigns[ca_id].osr.config,ca_id),!0},_populateClonedCreativeTemplate:function(numSteps,creativeClone,itemsJson,config,ca_id){var osrGroupNum=0;this._adjustLocalItemsObject(ca_id,itemsJson,config),this._populateOsrItemNumberElements(this._getOsrItemNumberElements(creativeClone),bouncex.campaigns[ca_id].osrItems.length),("development"===bouncex.env||"staging"===bouncex.env)&&itemsJson.length>bouncex.campaigns[ca_id].osrItems.length&&(itemsJson=bouncex.campaigns[ca_id].osrItems);for(var i=1;i<=numSteps;i++){for(var osrGroups=this._getOsrGroups(i,creativeClone),k=0;k<osrGroups.length;k++){var item=itemsJson[k],osrGroup=osrGroups[k];osrGroup&&item?osrGroup.innerHTML=bouncex.osr._populateClonedCreativeGroups(osrGroup,item,config):osrGroup.parentNode.removeChild(osrGroup)}osrGroups.length&&(osrGroupNum=osrGroups.length)}return bouncex.campaigns[ca_id].osr.config.inconsistentMaxParamToCreativeMax&&osrGroupNum>0&&osrGroupNum!==itemsJson.length&&(bouncex.campaigns[ca_id].osrItems=itemsJson.slice(0,osrGroupNum),this._populateOsrItemNumberElements(this._getOsrItemNumberElements(creativeClone),osrGroupNum)),creativeClone.innerHTML},_adjustLocalItemsObject:function(ca_id,itemsJson,config){var adjustedItemsJson=[];if(itemsJson.length>config.maxProducts){for(var i in bouncex.campaigns[ca_id].osr.config.inconsistentMaxParamToCreativeMax=!0,itemsJson)(adjustedItemsJson.length<config.maxProducts||void 0===adjustedItemsJson.length)&&adjustedItemsJson.push(itemsJson[i]);bouncex.campaigns[ca_id].osrItems=adjustedItemsJson}},_populateClonedCreativeGroups:function(osrGroup,item,config,i){var osrEl,prop,groupLink,linkBehavior=bouncex.osr._setLinkBehavior(config.linkBehavior),bxOsrEls=osrGroup.querySelectorAll("[data-bx-osr]",i);for("true"!==config.disableGroupLinks?(groupLink=osrGroup.firstChild&&"A"===osrGroup.firstChild.tagName?osrGroup.firstChild:osrGroup,bouncex.osr._setOsrAttributes(groupLink,{href:item.url,"data-click":"hyperlink",target:linkBehavior,"data-click-report":"default"})):bouncex.osr._setOsrAttributes(osrGroup,{style:"cursor:default !important"}),i=0;i<bxOsrEls.length;i++)prop=(osrEl=bxOsrEls[i]).getAttribute("data-bx-osr"),bouncex.osr._populateItemProperties(osrEl,prop,item,config,linkBehavior);return osrGroup.innerHTML},_populateItemProperties:function(osrEl,prop,item,config,linkBehavior){"imageurl"===prop?bouncex.osr._populateImages(osrEl,item[prop]):"price"===prop?bouncex.osr._populatePrice(osrEl,config.currency,item[prop]):"url"===prop?bouncex.osr._populateUrl(osrEl,linkBehavior,item[prop]):osrEl.firstChild.textContent=item[prop]},_getOsrGroups:function(step,creative){return creative.querySelectorAll(".bx-step-"+step+' [data-bx-osr="group"]')},_getOsrItemNumberElements:function(creative){return creative.querySelectorAll('[data-bx-osr="numitems"]')},_populateOsrItemNumberElements:function(numItemsElements,numItems){for(var j=0;j<numItemsElements.length;j++){var itemsText,numEl=numItemsElements[j];numEl&&numItems>0&&(itemsText=numEl.textContent.replace(numEl.textContent,numItems),numEl.textContent=itemsText)}},_setOsrAttributes:function(el,attrs){for(var key in attrs)el.setAttribute(key,attrs[key])},_populateUrl:function(element,linkBehavior,url){element.getElementsByTagName("button").length>0&&(element=element.getElementsByTagName("button")[0]),this._setOsrAttributes(element,{href:url,"data-click":"hyperlink",target:linkBehavior,"data-click-report":"default"}),element.classList.add("bx-osr-preventclicks")},_populatePrice:function(element,currency,price){var formattedPrice=this._getFormattedCurrency(currency,price);element.firstChild.textContent=formattedPrice},_populateImages:function(element,imageUrl){"DIV"===element.firstChild.tagName?element.firstChild.setAttribute("style","background-image:url('"+imageUrl+"')"):element.firstChild.setAttribute("src",imageUrl)},_getFormattedCurrency:function(currency,price){switch(currency){case"USD":default:return"$"+price;case"EU":return"€"+price}},_setLinkBehavior:function(behavior){switch(behavior){case"newTab":default:return"_blank";case"currTab":return"_self"}},activateCampaign:function(ca_id){bouncex.osr.log(ca_id,"activating OSR campaign",!1),_campaignHelpers.default.activateCampaign(ca_id)},log:function(ca_id,message,isError){var data={group:"osr",campaignId:ca_id,message};isError?_logger.default.error(data):_logger.default.info(data)},fail:function(ca_id,msg){bouncex.campaigns[ca_id].failed=!0,this.log(ca_id,msg,!0)}};exports.default=_default},5295:(__unused_webpack_module,exports)=>{function getDeviceLanguage(){return firstTwoCharacters(navigator.language)}function getDocumentLanguage(){var _document$documentEle;return firstTwoCharacters(null===(_document$documentEle=document.documentElement)||void 0===_document$documentEle?void 0:_document$documentEle.lang)}function firstTwoCharacters(language){return language?language.length<=2?language:language.substring(0,2):""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDeviceLanguage=getDeviceLanguage,exports.getDeviceOrDocumentLanguage=function(){var deviceLanguage=getDeviceLanguage();return deviceLanguage||getDocumentLanguage()},exports.getDocumentLanguage=getDocumentLanguage}},__webpack_require__=>{__webpack_require__.O(0,[179],(()=>{return moduleId=3537,__webpack_require__(__webpack_require__.s=moduleId);var moduleId}));__webpack_require__.O()}]);